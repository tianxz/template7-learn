{"version":3,"sources":["template7.js"],"names":["global","factory","exports","module","define","amd","Template7","this","isArray","arr","Array","Object","prototype","toString","apply","isFunction","func","escape","string","template7Context","replace","helperToSlices","shiftIndex","i","j","helperParts","split","slices","length","part","blockQuoteRegExp","openingQuote","push","indexOf","quoteDoubleRexExp","quoteSingleRexExp","match","hashParts","hashName","hashContent","hash","stringToBlocks","blocks","stringBlocks","block","type","content","contextName","helperSlices","helperName","isPartial","helperContext","helperHash","slice","helperContent","elseContent","toSkip","foundClosed","foundElse","depth","inverseContent","t7","template","data","arguments","instance","rendered","compile","window","undefined","RegExp","getCompileVar","name","ctx","parts","variable","levelsUp","newDepth","isFinite","getCompiledArguments","contextArray","test","join","getCompileFn","getCompileInverse","t","Error","resultString","compiledArguments","helpers","JSON","stringify","eval","call","compiled","options","partials","_partial","partialName","p","root","context","if","fn","inverse","unless","each","ret","reverse","first","last","index","key","with","delimiter","delimeter","js","expression","js_compare","registerHelper","unregisterHelper","registerPartial","unregisterPartial"],"mappings":"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","file":"template7.min.js","sourcesContent":["/**\n * template7 1.2.3\n * Mobile-first HTML template engine\n * \n * http://www.idangero.us/template7/\n * \n * Copyright 2017, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n * \n * Licensed under MIT\n * \n * Released on: May 12, 2017\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Template7 = factory());\n}(this, (function () { 'use strict';\n\nvar template7Context;\nif (typeof window !== 'undefined') {\n  template7Context = window;\n} else if (typeof global !== 'undefined') {\n  template7Context = global;\n} else {\n  template7Context = undefined;\n}\nfunction isArray(arr) {\n  return Array.isArray ? Array.isArray(arr) : Object.prototype.toString.apply(arr) === '[object Array]';\n}\nfunction isFunction(func) {\n  return typeof func === 'function';\n}\nfunction escape(string) {\n  return (typeof template7Context !== 'undefined' && template7Context.escape ? template7Context.escape(string) : string)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n}\nvar quoteSingleRexExp = new RegExp('\\'', 'g');\nvar quoteDoubleRexExp = new RegExp('\"', 'g');\nfunction helperToSlices(string) {\n  var helperParts = string.replace(/[{}#}]/g, '').split(' ');\n  var slices = [];\n  var shiftIndex;\n  var i;\n  var j;\n  for (i = 0; i < helperParts.length; i += 1) {\n    var part = helperParts[i];\n    var blockQuoteRegExp = (void 0);\n    var openingQuote = (void 0);\n    if (i === 0) { slices.push(part); }\n    else if (part.indexOf('\"') === 0 || part.indexOf('\\'') === 0) {\n      blockQuoteRegExp = part.indexOf('\"') === 0 ? quoteDoubleRexExp : quoteSingleRexExp;\n      openingQuote = part.indexOf('\"') === 0 ? '\"' : '\\'';\n      // Plain String\n      if (part.match(blockQuoteRegExp).length === 2) {\n        // One word string\n        slices.push(part);\n      } else {\n        // Find closed Index\n        shiftIndex = 0;\n        for (j = i + 1; j < helperParts.length; j += 1) {\n          part += \" \" + (helperParts[j]);\n          if (helperParts[j].indexOf(openingQuote) >= 0) {\n            shiftIndex = j;\n            slices.push(part);\n            break;\n          }\n        }\n        if (shiftIndex) { i = shiftIndex; }\n      }\n    } else if (part.indexOf('=') > 0) {\n      // Hash\n      var hashParts = part.split('=');\n      var hashName = hashParts[0];\n      var hashContent = hashParts[1];\n      if (!blockQuoteRegExp) {\n        blockQuoteRegExp = hashContent.indexOf('\"') === 0 ? quoteDoubleRexExp : quoteSingleRexExp;\n        openingQuote = hashContent.indexOf('\"') === 0 ? '\"' : '\\'';\n      }\n      if (hashContent.match(blockQuoteRegExp).length !== 2) {\n        shiftIndex = 0;\n        for (j = i + 1; j < helperParts.length; j += 1) {\n          hashContent += \" \" + (helperParts[j]);\n          if (helperParts[j].indexOf(openingQuote) >= 0) {\n            shiftIndex = j;\n            break;\n          }\n        }\n        if (shiftIndex) { i = shiftIndex; }\n      }\n      var hash = [hashName, hashContent.replace(blockQuoteRegExp, '')];\n      slices.push(hash);\n    } else {\n      // Plain variable\n      slices.push(part);\n    }\n  }\n  return slices;\n}\nfunction stringToBlocks(string) {\n  var blocks = [];\n  var i;\n  var j;\n  if (!string) { return []; }\n  var stringBlocks = string.split(/({{[^{^}]*}})/);\n  for (i = 0; i < stringBlocks.length; i += 1) {\n    var block = stringBlocks[i];\n    if (block === '') { continue; }\n    if (block.indexOf('{{') < 0) {\n      blocks.push({\n        type: 'plain',\n        content: block,\n      });\n    } else {\n      if (block.indexOf('{/') >= 0) {\n        continue;\n      }\n      if (block.indexOf('{#') < 0 && block.indexOf(' ') < 0 && block.indexOf('else') < 0) {\n        // Simple variable\n        blocks.push({\n          type: 'variable',\n          contextName: block.replace(/[{}]/g, ''),\n        });\n        continue;\n      }\n      // Helpers\n      var helperSlices = helperToSlices(block);\n      var helperName = helperSlices[0];\n      var isPartial = helperName === '>';\n      var helperContext = [];\n      var helperHash = {};\n      for (j = 1; j < helperSlices.length; j += 1) {\n        var slice = helperSlices[j];\n        if (isArray(slice)) {\n          // Hash\n          helperHash[slice[0]] = slice[1] === 'false' ? false : slice[1];\n        } else {\n          helperContext.push(slice);\n        }\n      }\n\n      if (block.indexOf('{#') >= 0) {\n        // Condition/Helper\n        var helperContent = '';\n        var elseContent = '';\n        var toSkip = 0;\n        var shiftIndex = (void 0);\n        var foundClosed = false;\n        var foundElse = false;\n        var depth = 0;\n        for (j = i + 1; j < stringBlocks.length; j += 1) {\n          if (stringBlocks[j].indexOf('{{#') >= 0) {\n            depth += 1;\n          }\n          if (stringBlocks[j].indexOf('{{/') >= 0) {\n            depth -= 1;\n          }\n          if (stringBlocks[j].indexOf((\"{{#\" + helperName)) >= 0) {\n            helperContent += stringBlocks[j];\n            if (foundElse) { elseContent += stringBlocks[j]; }\n            toSkip += 1;\n          } else if (stringBlocks[j].indexOf((\"{{/\" + helperName)) >= 0) {\n            if (toSkip > 0) {\n              toSkip -= 1;\n              helperContent += stringBlocks[j];\n              if (foundElse) { elseContent += stringBlocks[j]; }\n            } else {\n              shiftIndex = j;\n              foundClosed = true;\n              break;\n            }\n          } else if (stringBlocks[j].indexOf('else') >= 0 && depth === 0) {\n            foundElse = true;\n          } else {\n            if (!foundElse) { helperContent += stringBlocks[j]; }\n            if (foundElse) { elseContent += stringBlocks[j]; }\n          }\n        }\n        if (foundClosed) {\n          if (shiftIndex) { i = shiftIndex; }\n          blocks.push({\n            type: 'helper',\n            helperName: helperName,\n            contextName: helperContext,\n            content: helperContent,\n            inverseContent: elseContent,\n            hash: helperHash,\n          });\n        }\n      } else if (block.indexOf(' ') > 0) {\n        if (isPartial) {\n          helperName = '_partial';\n          if (helperContext[0]) { helperContext[0] = \"\\\"\" + (helperContext[0].replace(/\"|'/g, '')) + \"\\\"\"; }\n        }\n        blocks.push({\n          type: 'helper',\n          helperName: helperName,\n          contextName: helperContext,\n          hash: helperHash,\n        });\n      }\n    }\n  }\n  return blocks;\n}\nvar Template7 = function Template7(template) {\n  var t = this;\n  t.template = template;\n\n  function getCompileVar(name, ctx) {\n    var variable = ctx;\n    var parts;\n    var levelsUp = 0;\n    if (name.indexOf('../') === 0) {\n      var newDepth = variable.split('_')[1] - levelsUp;\n      levelsUp = name.split('../').length - 1;\n      variable = \"ctx_\" + (newDepth >= 1 ? newDepth : 1);\n      parts = name.split('../')[levelsUp].split('.');\n    } else if (name.indexOf('@global') === 0) {\n      variable = 'Template7.global';\n      parts = name.split('@global.')[1].split('.');\n    } else if (name.indexOf('@root') === 0) {\n      variable = 'root';\n      parts = name.split('@root.')[1].split('.');\n    } else {\n      parts = name.split('.');\n    }\n    for (var i = 0; i < parts.length; i += 1) {\n      var part = parts[i];\n      if (part.indexOf('@') === 0) {\n        if (i > 0) {\n          variable += \"[(data && data.\" + (part.replace('@', '')) + \")]\";\n        } else {\n          variable = \"(data && data.\" + (name.replace('@', '')) + \")\";\n        }\n      } else if (isFinite(part)) {\n        variable += \"[\" + part + \"]\";\n      } else if (part === 'this' || part.indexOf('this.') >= 0 || part.indexOf('this[') >= 0 || part.indexOf('this(') >= 0) {\n        variable = part.replace('this', ctx);\n      } else {\n        variable += \".\" + part;\n      }\n    }\n\n    return variable;\n  }\n  function getCompiledArguments(contextArray, ctx) {\n    var arr = [];\n    for (var i = 0; i < contextArray.length; i += 1) {\n      if (/^['\"]/.test(contextArray[i])) { arr.push(contextArray[i]); }\n      else if (/^(true|false|\\d+)$/.test(contextArray[i])) { arr.push(contextArray[i]); }\n      else {\n        arr.push(getCompileVar(contextArray[i], ctx));\n      }\n    }\n\n    return arr.join(', ');\n  }\n  function compile(template, depth) {\n    if ( template === void 0 ) template = t.template;\n    if ( depth === void 0 ) depth = 1;\n\n    if (typeof template !== 'string') {\n      throw new Error('Template7: Template must be a string');\n    }\n    var blocks = stringToBlocks(template);\n    var ctx = \"ctx_\" + depth;\n    if (blocks.length === 0) {\n      return function empty() { return ''; };\n    }\n\n    function getCompileFn(block, newDepth) {\n      if (block.content) { return compile(block.content, newDepth); }\n      return function empty() { return ''; };\n    }\n    function getCompileInverse(block, newDepth) {\n      if (block.inverseContent) { return compile(block.inverseContent, newDepth); }\n      return function empty() { return ''; };\n    }\n\n    var resultString = '';\n    if (depth === 1) {\n      resultString += \"(function (\" + ctx + \", data, root) {\\n\";\n    } else {\n      resultString += \"(function (\" + ctx + \", data) {\\n\";\n    }\n    if (depth === 1) {\n      resultString += 'function isArray(arr){return Object.prototype.toString.apply(arr) === \\'[object Array]\\';}\\n';\n      resultString += 'function isFunction(func){return (typeof func === \\'function\\');}\\n';\n      resultString += 'function c(val, ctx) {if (typeof val !== \"undefined\" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return \"\";}\\n';\n      resultString += 'root = root || ctx_1 || {};\\n';\n    }\n    resultString += 'var r = \\'\\';\\n';\n    var i;\n    for (i = 0; i < blocks.length; i += 1) {\n      var block = blocks[i];\n      // Plain block\n      if (block.type === 'plain') {\n        resultString += \"r +='\" + ((block.content).replace(/\\r/g, '\\\\r').replace(/\\n/g, '\\\\n').replace(/'/g, '\\\\' + '\\'')) + \"';\";\n        continue;\n      }\n      var variable = (void 0);\n      var compiledArguments = (void 0);\n      // Variable block\n      if (block.type === 'variable') {\n        variable = getCompileVar(block.contextName, ctx);\n        resultString += \"r += c(\" + variable + \", \" + ctx + \");\";\n      }\n      // Helpers block\n      if (block.type === 'helper') {\n        if (block.helperName in t.helpers) {\n          compiledArguments = getCompiledArguments(block.contextName, ctx);\n\n          resultString += \"r += (Template7.helpers.\" + (block.helperName) + \").call(\" + ctx + \", \" + (compiledArguments && ((compiledArguments + \", \"))) + \"{hash:\" + (JSON.stringify(block.hash)) + \", data: data || {}, fn: \" + (getCompileFn(block, depth + 1)) + \", inverse: \" + (getCompileInverse(block, depth + 1)) + \", root: root});\";\n        } else if (block.contextName.length > 0) {\n          throw new Error((\"Template7: Missing helper: \\\"\" + (block.helperName) + \"\\\"\"));\n        } else {\n          variable = getCompileVar(block.helperName, ctx);\n          resultString += \"if (\" + variable + \") {\";\n          resultString += \"if (isArray(\" + variable + \")) {\";\n          resultString += \"r += (Template7.helpers.each).call(\" + ctx + \", \" + variable + \", {hash:\" + (JSON.stringify(block.hash)) + \", data: data || {}, fn: \" + (getCompileFn(block, depth + 1)) + \", inverse: \" + (getCompileInverse(block, depth + 1)) + \", root: root});\";\n          resultString += '}else {';\n          resultString += \"r += (Template7.helpers.with).call(\" + ctx + \", \" + variable + \", {hash:\" + (JSON.stringify(block.hash)) + \", data: data || {}, fn: \" + (getCompileFn(block, depth + 1)) + \", inverse: \" + (getCompileInverse(block, depth + 1)) + \", root: root});\";\n          resultString += '}}';\n        }\n      }\n    }\n    resultString += '\\nreturn r;})';\n    return eval.call(template7Context, resultString);\n  }\n  t.compile = function _compile(template) {\n    if (!t.compiled) {\n      t.compiled = compile(template);\n    }\n    return t.compiled;\n  };\n};\n\nTemplate7.prototype = {\n  options: {},\n  partials: {},\n  helpers: {\n    _partial: function _partial(partialName, options) {\n      var p = Template7.prototype.partials[partialName];\n      if (!p || (p && !p.template)) { return ''; }\n      if (!p.compiled) {\n        p.compiled = new Template7(p.template).compile();\n      }\n      var ctx = this;\n      for (var hashName in options.hash) {\n        ctx[hashName] = options.hash[hashName];\n      }\n      return p.compiled(ctx, options.data, options.root);\n    },\n    escape: function escape$1(context, options) {\n      if (typeof context !== 'string') {\n        throw new Error('Template7: Passed context to \"escape\" helper should be a string');\n      }\n      return escape(context);\n    },\n    if: function if$1(context, options) {\n      var ctx = context;\n      if (isFunction(ctx)) { ctx = ctx.call(this); }\n      if (ctx) {\n        return options.fn(this, options.data);\n      }\n\n      return options.inverse(this, options.data);\n    },\n    unless: function unless(context, options) {\n      var ctx = context;\n      if (isFunction(ctx)) { ctx = ctx.call(this); }\n      if (!ctx) {\n        return options.fn(this, options.data);\n      }\n\n      return options.inverse(this, options.data);\n    },\n    each: function each(context, options) {\n      var ctx = context;\n      var ret = '';\n      var i = 0;\n      if (isFunction(ctx)) { ctx = ctx.call(this); }\n      if (isArray(ctx)) {\n        if (options.hash.reverse) {\n          ctx = ctx.reverse();\n        }\n        for (i = 0; i < ctx.length; i += 1) {\n          ret += options.fn(ctx[i], { first: i === 0, last: i === ctx.length - 1, index: i });\n        }\n        if (options.hash.reverse) {\n          ctx = ctx.reverse();\n        }\n      } else {\n        for (var key in ctx) {\n          i += 1;\n          ret += options.fn(ctx[key], { key: key });\n        }\n      }\n      if (i > 0) { return ret; }\n      return options.inverse(this);\n    },\n    with: function with$1(context, options) {\n      var ctx = context;\n      if (isFunction(ctx)) { ctx = context.call(this); }\n      return options.fn(ctx);\n    },\n    join: function join(context, options) {\n      var ctx = context;\n      if (isFunction(ctx)) { ctx = ctx.call(this); }\n      return ctx.join(options.hash.delimiter || options.hash.delimeter);\n    },\n    js: function js(expression, options) {\n      var func;\n      if (expression.indexOf('return') >= 0) {\n        func = \"(function(){\" + expression + \"})\";\n      } else {\n        func = \"(function(){return (\" + expression + \")})\";\n      }\n      return eval.call(this, func).call(this);\n    },\n    js_compare: function js_compare(expression, options) {\n      var func;\n      if (expression.indexOf('return') >= 0) {\n        func = \"(function(){\" + expression + \"})\";\n      } else {\n        func = \"(function(){return (\" + expression + \")})\";\n      }\n      var condition = eval.call(this, func).call(this);\n      if (condition) {\n        return options.fn(this, options.data);\n      }\n\n      return options.inverse(this, options.data);\n    },\n  },\n};\nfunction t7(template, data) {\n  if (arguments.length === 2) {\n    var instance = new Template7(template);\n    var rendered = instance.compile()(data);\n    instance = null;\n    return (rendered);\n  }\n  return new Template7(template);\n}\nt7.registerHelper = function registerHelper(name, fn) {\n  Template7.prototype.helpers[name] = fn;\n};\nt7.unregisterHelper = function unregisterHelper(name) {\n  Template7.prototype.helpers[name] = undefined;\n  delete Template7.prototype.helpers[name];\n};\nt7.registerPartial = function registerPartial(name, template) {\n  Template7.prototype.partials[name] = { template: template };\n};\nt7.unregisterPartial = function unregisterPartial(name) {\n  if (Template7.prototype.partials[name]) {\n    Template7.prototype.partials[name] = undefined;\n    delete Template7.prototype.partials[name];\n  }\n};\nt7.compile = function compile(template, options) {\n  var instance = new Template7(template, options);\n  return instance.compile();\n};\n\nt7.options = Template7.prototype.options;\nt7.helpers = Template7.prototype.helpers;\nt7.partials = Template7.prototype.partials;\n\nreturn t7;\n\n})));\n\n//# sourceMappingURL=template7.js.map\n"]}